# ==============================================
# LOCAL AI MODEL CONFIGURATION (.env)
# ==============================================

# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
DATABASE_URL=sqlite:///./choveen.db
# For PostgreSQL: postgresql://username:password@localhost:5432/dbname
# For MySQL: mysql://username:password@localhost:3306/dbname

# ----------------------------------------------
# Security Settings
# ----------------------------------------------
SECRET_KEY=choveen-secret-key-change-in-production-$(openssl rand -hex 32)
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ----------------------------------------------
# DeepSeek Model Configuration
# ----------------------------------------------
# Path to model checkpoint directory
DEEPSEEK_MODEL_PATH=./deepseek
DEEPSEEK_CONFIG_PATH=./deepseek/config.json

# AI Service Type: "deepseek" for local model, "fallback" for backup
AI_SERVICE_TYPE=deepseek

# ----------------------------------------------
# Model Runtime Settings
# ----------------------------------------------
# Distributed training settings
WORLD_SIZE=1
RANK=0
LOCAL_RANK=0

# Model parameters
MAX_NEW_TOKENS=200
TEMPERATURE=0.2
MAX_SEQ_LEN=4096

# GPU/CPU settings
TORCH_NUM_THREADS=8

# ----------------------------------------------
# Email Configuration (Optional)
# ----------------------------------------------
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# ----------------------------------------------
# Model Performance Settings
# ----------------------------------------------
# Memory optimization
TORCH_DTYPE=bfloat16
BATCH_SIZE=1
GRADIENT_CHECKPOINTING=true

# Rope (Rotary Position Embedding) settings
ROPE_THETA=10000.0
ROPE_FACTOR=1.0
BETA_FAST=32.0
BETA_SLOW=1.0

# ----------------------------------------------
# API Configuration
# ----------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false

# Rate limiting
REQUESTS_PER_MINUTE=60
MAX_TOKENS_PER_REQUEST=2048

# ----------------------------------------------
# Logging Configuration
# ----------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=./logs/model.log
ENABLE_METRICS=true

# ----------------------------------------------
# Model Paths (Customize as needed)
# ----------------------------------------------
MODEL_CHECKPOINT_DIR=./checkpoints
MODEL_CONFIG_FILE=./config/model_config.json
TOKENIZER_PATH=./tokenizer

# ----------------------------------------------
# Development Settings
# ----------------------------------------------
RELOAD=true
WORKERS=1

# ----------------------------------------------
# Safety and Content Filtering
# ----------------------------------------------
ENABLE_CONTENT_FILTER=true
MAX_INPUT_LENGTH=2048
ENABLE_SAFETY_CHECKS=true

# ----------------------------------------------
# Cache Configuration
# ----------------------------------------------
ENABLE_CACHE=true
CACHE_DIR=./cache
CACHE_MAX_SIZE=1000

# ----------------------------------------------
# Backup and Monitoring
# ----------------------------------------------
BACKUP_ENABLED=false
BACKUP_INTERVAL=24h
HEALTH_CHECK_ENABLED=true
METRICS_PORT=9090